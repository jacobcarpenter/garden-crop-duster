namespace SpriteKind {
    export const PesticideCloud = SpriteKind.create()
    export const Building = SpriteKind.create()
    export const Plant = SpriteKind.create()
    export const Indicator = SpriteKind.create()
    export const CompletedPlant = SpriteKind.create()
}
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`
    //% blockIdentity=images._tile
    export const tile1 = img`
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
`
    //% blockIdentity=images._tile
    export const tile5 = img`
e e e e e e e e e e e e e e e e 
7 e 7 7 e 7 7 e 7 7 e 7 7 e 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
`
    //% blockIdentity=images._tile
    export const tile8 = img`
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 7 5 5 5 5 5 5 5 5 
5 5 7 5 5 7 5 5 7 7 7 5 5 5 5 5 
5 5 7 5 5 7 5 5 7 7 5 7 5 5 5 5 
5 5 7 5 5 7 5 5 7 7 7 7 5 5 5 5 
5 5 7 7 7 7 5 5 7 5 7 7 5 5 5 5 
5 5 7 5 5 7 5 5 7 5 7 7 5 5 5 5 
5 5 7 5 5 7 5 5 5 7 7 7 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 7 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
`
    //% blockIdentity=images._tile
    export const tile9 = img`
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 2 5 5 5 5 5 5 5 
5 5 5 2 2 2 5 5 5 2 2 2 5 5 5 5 
5 5 5 2 5 5 5 5 5 2 2 2 2 5 5 5 
5 5 5 2 5 5 5 5 5 2 2 5 2 5 5 5 
5 5 5 2 2 2 5 5 5 2 2 2 2 5 5 5 
5 5 5 2 5 5 5 5 5 2 5 2 2 5 5 5 
5 5 5 2 5 5 5 5 5 2 5 2 2 5 5 5 
5 5 5 2 5 5 5 5 5 2 2 2 2 2 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
`
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    updateFlightForHeading(-1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Building, function (sprite, otherSprite) {
    crashPlane()
})
function crashPlane () {
    mySprite.setFlag(SpriteFlag.Ghost, true)
    mySprite.setVelocity(0, 0)
    tilemap.destorySpritesOfKind(SpriteKind.Projectile)
    tilemap.destorySpritesOfKind(SpriteKind.PesticideCloud)
    // Improve this; there's a really weird bug here
    game.splash("CRASH!!")
    tilemap.destorySpritesOfKind(SpriteKind.Player)
    startPlayer()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . b c b . . . . . . . 
. . . . . . c 7 c . . . . . . . 
. . . . . . b c b . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, mySprite, mySprite.vx, mySprite.vy)
    projectile.ay = gravity
    projectile.fx = airResistance
})
function startPlayer () {
    heading = 0
    inverted = false
    mySprite = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . 2 2 2 2 2 2 . . . . 
. . 2 . . . . . . 2 8 . . . f . 
. . 2 2 . . 2 2 2 2 2 2 2 . f . 
. . 2 2 2 2 a a a a a a 2 . f . 
. . . . . . . . . . 2 . . . f . 
. . . . . . . . . . f . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.Player)
    scene.cameraFollowSprite(mySprite)
    updateFlightForHeading(0)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    inverted = !(inverted)
    updateFlightForHeading(0)
})
sprites.onOverlap(SpriteKind.PesticideCloud, SpriteKind.Building, function (sprite, otherSprite) {
    sprite.setFlag(SpriteFlag.Ghost, true)
    info.changeScoreBy(-1)
})
function updateFlightForHeading (change: number) {
    if (!(inverted)) {
        heading = (heading + (planeImages.length + change)) % planeImages.length
        mySprite.setImage(planeImages[heading])
    } else {
        heading = (heading + (planeImages.length - change)) % planeImages.length
        mySprite.setImage(invertedPlaneImages[heading])
    }
    mySprite.setVelocity(baseSpeed * Math.cos(heading * partialRotation), 0 - baseSpeed * Math.sin(heading * partialRotation))
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    inverted = !(inverted)
    updateFlightForHeading(0)
})
scene.onHitWall(SpriteKind.Player, function (sprite) {
    if (tilemap.locationXY(tilemap.locationOfSprite(mySprite), tilemap.XY.row) == 0 || !(tilemap.tileIs(tilemap.locationInDirection(tilemap.locationOfSprite(mySprite), CollisionDirection.Bottom), myTiles.tile1)) && (tilemap.locationXY(tilemap.locationOfSprite(mySprite), tilemap.XY.column) == 0 || tilemap.locationXY(tilemap.locationOfSprite(mySprite), tilemap.XY.column) == tilemap.tilemapColumns() - 1)) {
        game.splash("STALL")
        heading = 9
        updateFlightForHeading(0)
    } else {
        crashPlane()
    }
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    updateFlightForHeading(1)
})
sprites.onCreated(SpriteKind.Building, function (sprite) {
    if (tilemap.tileIs(tilemap.locationOfSprite(sprite), myTiles.tile8)) {
        sprite.setImage(houseImages[0])
    }
})
sprites.onOverlap(SpriteKind.PesticideCloud, SpriteKind.Plant, function (sprite, otherSprite) {
    successIndicator = sprites.create(successfulDropImage, SpriteKind.Indicator)
    successIndicator.setFlag(SpriteFlag.Ghost, true)
    tiles.placeOnTile(successIndicator, tilemap.locationInDirection(tilemap.locationOfSprite(otherSprite), CollisionDirection.Top))
    otherSprite.setKind(SpriteKind.CompletedPlant)
    info.changeScoreBy(1)
})
sprites.onDestroyed(SpriteKind.Projectile, function (sprite) {
    cloud = sprites.create(img`
. . 7 7 7 7 7 7 7 7 7 7 7 7 . . 
. . . 7 . 7 7 7 . 7 7 7 . 7 . . 
. . 7 7 7 7 7 7 7 7 7 . . . 7 7 
7 7 . . . 7 7 7 7 7 7 . . . 7 7 
7 7 . . . 7 7 . 7 7 7 . . . 7 . 
7 7 . . . 7 7 7 7 7 7 7 7 7 7 7 
. 7 7 7 7 7 7 7 7 . 7 7 7 . 7 7 
7 7 7 7 . 7 . 7 7 7 7 . . . 7 7 
7 7 7 7 7 7 7 7 7 7 7 . . . . 7 
7 7 . 7 7 7 7 7 7 . 7 . . . 7 7 
7 7 7 7 7 7 7 . 7 7 7 7 7 7 . 7 
7 7 7 . . . 7 7 7 7 . 7 7 7 7 7 
7 7 7 . . . 7 7 7 7 7 7 7 7 7 7 
. . 7 . . . 7 7 7 7 . 7 7 7 . . 
. . 7 7 7 . 7 7 7 7 7 7 7 7 . . 
. . 7 . 7 7 7 7 7 7 7 7 7 7 . . 
`, SpriteKind.PesticideCloud)
    cloud.setPosition(sprite.x, sprite.y)
    cloud.lifespan = 300
})
sprites.onCreated(SpriteKind.Plant, function (sprite) {
    if (tilemap.tileIs(tilemap.locationOfSprite(sprite), myTiles.tile9)) {
        sprite.setImage(plantImages[0])
    }
})
let cloud: Sprite = null
let successIndicator: Sprite = null
let inverted = false
let heading = 0
let projectile: Sprite = null
let mySprite: Sprite = null
let successfulDropImage: Image = null
let partialRotation = 0
let invertedPlaneImages: Image[] = []
let planeImages: Image[] = []
let plantImages: Image[] = []
let houseImages: Image[] = []
let baseSpeed = 0
let airResistance = 0
let gravity = 0
gravity = 30
airResistance = 10
baseSpeed = 50
houseImages = [img`
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . c c c c c c c c c c c c c c c c c c c c . . . . . . 
. . . . c c c c c c c c c c c c c c c c c c c c c c c c . . . . 
. . c c c c c c c c c c c c c c c c c c c c c c c c c c c c . . 
. . . . d d d d d d d d d d d d d d d d d d d d d d d d . . . . 
. . . . d d d d d d d d d d d d d d d d d d d d d d d d . . . . 
. . . . d d d d d d d d d d d d d d d d d d d d d d d d . . . . 
. . . . d d d d d d c d d c d d c d d c d d c d d c d d . . . . 
. . . . d d d d d d d d d d d d d d d d d d d d d d d d . . . . 
. . . . d d c c d d d d d d d d d d d d d d d d d d d d . . . . 
. . . . d d c c d d d d d d d d d d d d d d d d d d d d . . . . 
`]
plantImages = [img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . 5 . . . . . . . 5 . . 
. 5 . . 5 . 5 . . 5 . . 5 . 5 . 
5 . 5 . . 5 . . 5 . 5 . . 5 . . 
. 5 . . . 7 . . . 5 . . . 7 . . 
. 7 . . . 7 . . . 7 . . . 7 . . 
. 7 . . . 7 . . . 7 . . . 7 . . 
`]
planeImages = [img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . 2 2 2 2 2 2 . . . . 
. . 2 . . . . . . 2 8 . . . f . 
. . 2 2 . . 2 2 2 2 2 2 2 . f . 
. . 2 2 2 2 a a a a a a 2 . f . 
. . . . . . . . . . 2 . . . f . 
. . . . . . . . . . f . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . 2 2 . . f . 
. . . . . . . . 2 2 8 . . . f . 
. . . . . . 2 2 . 2 2 2 2 . f . 
. . . . . . . . 2 2 a a 2 . f . 
. . 2 . . 2 2 2 a a 2 . . . . . 
. . 2 2 2 . a a . . f . . . . . 
. . 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . f . . . 
. . . . . . . . . . . . . f . . 
. . . . . . . . 2 . . 2 . . f . 
. . . . . . . 2 . . 8 2 2 . . . 
. . . . . . 2 . . 2 2 a 2 . . . 
. . . . . 2 . . . 2 a 2 . . . . 
. . . . . . . 2 2 a 2 . 2 . . . 
. . . . . . 2 2 a 2 . . . f . . 
. . . . . . 2 a 2 . . . . . . . 
. . 2 2 . 2 a 2 . . . . . . . . 
. . 2 2 2 2 . . . . . . . . . . 
. . . 2 2 . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . f f f f . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . 2 2 . . . . . . . 
. . . . . 2 . 2 a . . . . . . . 
. . . . . 2 8 2 a 2 f . . . . . 
. . . . . 2 2 2 a . . . . . . . 
. . . . . 2 . 2 a . . . . . . . 
. . . . . 2 . 2 a . . . . . . . 
. . . . . 2 . 2 a . . . . . . . 
. . . . . . . . 2 . . . . . . . 
. . . . . . . . 2 . . . . . . . 
. . . . . . . 2 2 . . . . . . . 
. . . . . . 2 2 2 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . f . . . . . . . . . . . . . 
. f . . . . . f . . . . . . . . 
f . . 2 2 . 2 . . . . . . . . . 
. . 2 2 a 2 . . . . . . . . . . 
. . . 8 2 a 2 . . . . . . . . . 
. . . . 2 2 a 2 . . . . . . . . 
. . 2 . . . 2 a 2 . . . . . . . 
. . . 2 . . 2 2 a 2 . . . . . . 
. . . . 2 . . 2 2 a . . . . . . 
. . . . . 2 . . . 2 2 . . . . . 
. . . . . . . . . . 2 2 . . . . 
. . . . . . . . . 2 2 2 . . . . 
. . . . . . . . . 2 2 . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. f . . . . f . . . . . . . . . 
. f . . . . 2 . . . . . . . . . 
. f . 2 2 2 2 . . . . . . . . . 
. f . 2 2 2 2 2 2 . . . . . . . 
. . . . . 8 2 2 2 2 2 . . 2 . . 
. . . . 2 2 . . 2 2 . 2 2 2 . . 
. . . . . . 2 2 . . . . 2 2 . . 
. . . . . . . . 2 2 . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . f . . . . . . . . . . 
. f . . . 2 . . . . . . . . . . 
. f . 2 a a a a a a 2 2 2 2 . . 
. f . 2 2 2 2 2 2 2 . . 2 2 . . 
. f . . . 8 2 . . . . . . 2 . . 
. . . . 2 2 2 2 2 2 . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . 2 2 . . 
. . . . . f . . a a . 2 2 2 . . 
. . . . . 2 a a 2 2 2 . . 2 . . 
. f . 2 a a 2 2 . . . . . . . . 
. f . 2 2 2 2 . 2 2 . . . . . . 
. f . . . 8 2 2 . . . . . . . . 
. f . . 2 2 . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . 2 2 . . . 
. . . . . . . . . . 2 2 2 2 . . 
. . . . . . . . 2 a 2 . 2 2 . . 
. . . . . . . 2 a 2 . . . . . . 
. . f . . . 2 a 2 2 . . . . . . 
. . . 2 . 2 a 2 2 . . . . . . . 
. . . . 2 a 2 . . . 2 . . . . . 
. . . 2 a 2 2 . . 2 . . . . . . 
. . . 2 2 8 . . 2 . . . . . . . 
. f . . 2 . . 2 . . . . . . . . 
. . f . . . . . . . . . . . . . 
. . . f . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . 2 2 2 . . . . . . 
. . . . . . . 2 2 . . . . . . . 
. . . . . . . 2 . . . . . . . . 
. . . . . . . 2 . . . . . . . . 
. . . . . . . a 2 . 2 . . . . . 
. . . . . . . a 2 . 2 . . . . . 
. . . . . . . a 2 . 2 . . . . . 
. . . . . . . a 2 2 2 . . . . . 
. . . . . f 2 a 2 8 2 . . . . . 
. . . . . . . a 2 . 2 . . . . . 
. . . . . . . 2 2 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . f f f f . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . 2 2 . . . . . . . . . 
. . . . 2 2 2 . . . . . . . . . 
. . . . 2 2 . . . . . . . . . . 
. . . . . 2 2 . . . 2 . . . . . 
. . . . . . a 2 2 . . 2 . . . . 
. . . . . . 2 a 2 2 . . 2 . . . 
. . . . . . . 2 a 2 . . . 2 . . 
. . . . . . . . 2 a 2 2 . . . . 
. . . . . . . . . 2 a 2 8 . . . 
. . . . . . . . . . 2 a 2 2 . . 
. . . . . . . . . 2 . 2 2 . . f 
. . . . . . . . f . . . . . f . 
. . . . . . . . . . . . . f . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . 2 2 . . . . . . . . 
. . 2 2 . . . . 2 2 . . . . . . 
. . 2 2 2 . 2 2 . . 2 2 . . . . 
. . 2 . . 2 2 2 2 2 8 . . . . . 
. . . . . . . 2 2 2 2 2 2 . f . 
. . . . . . . . . 2 2 2 2 . f . 
. . . . . . . . . 2 . . . . f . 
. . . . . . . . . f . . . . f . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`]
invertedPlaneImages = [img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . f . . . . . 
. . . . . . . . . . 2 . . . f . 
. . 2 2 2 2 a a a a a a 2 . f . 
. . 2 2 . . 2 2 2 2 2 2 2 . f . 
. . 2 . . . . . . 2 8 . . . f . 
. . . . . . 2 2 2 2 2 2 . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . f . . . . f . 
. . . . . . . . . 2 . . . . f . 
. . . . . . . . . 2 2 2 2 . f . 
. . . . . . . 2 2 2 2 2 2 . f . 
. . 2 . . 2 2 2 2 2 8 . . . . . 
. . 2 2 2 . 2 2 . . 2 2 . . . . 
. . 2 2 . . . . 2 2 . . . . . . 
. . . . . . 2 2 . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . f . . 
. . . . . . . . f . . . . . f . 
. . . . . . . . . 2 . 2 2 . . f 
. . . . . . . . . . 2 a 2 2 . . 
. . . . . . . . . 2 a 2 8 . . . 
. . . . . . . . 2 a 2 2 . . . . 
. . . . . . . 2 a 2 . . . 2 . . 
. . . . . . 2 a 2 2 . . 2 . . . 
. . . . . . a 2 2 . . 2 . . . . 
. . . . . 2 2 . . . 2 . . . . . 
. . . . 2 2 . . . . . . . . . . 
. . . . 2 2 2 . . . . . . . . . 
. . . . . 2 2 . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . f f f f . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . 2 2 . . . . . . . 
. . . . . . . a 2 . 2 . . . . . 
. . . . . f 2 a 2 8 2 . . . . . 
. . . . . . . a 2 2 2 . . . . . 
. . . . . . . a 2 . 2 . . . . . 
. . . . . . . a 2 . 2 . . . . . 
. . . . . . . a 2 . 2 . . . . . 
. . . . . . . 2 . . . . . . . . 
. . . . . . . 2 . . . . . . . . 
. . . . . . . 2 2 . . . . . . . 
. . . . . . . 2 2 2 . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . f . . . . . . . . . . . . 
. . f . . . . . . . . . . . . . 
. f . . 2 . . 2 . . . . . . . . 
. . . 2 2 8 . . 2 . . . . . . . 
. . . 2 a 2 2 . . 2 . . . . . . 
. . . . 2 a 2 . . . 2 . . . . . 
. . . 2 . 2 a 2 2 . . . . . . . 
. . f . . . 2 a 2 2 . . . . . . 
. . . . . . . 2 a 2 . . . . . . 
. . . . . . . . 2 a 2 . 2 2 . . 
. . . . . . . . . . 2 2 2 2 . . 
. . . . . . . . . . . 2 2 . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. f . . 2 2 . . . . . . . . . . 
. f . . . 8 2 2 . . . . . . . . 
. f . 2 2 2 2 . 2 2 . . . . . . 
. f . 2 a a 2 2 . . . . . . . . 
. . . . . 2 a a 2 2 2 . . 2 . . 
. . . . . f . . a a . 2 2 2 . . 
. . . . . . . . . . . . 2 2 . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . 2 2 2 2 2 2 . . . . . . 
. f . . . 8 2 . . . . . . 2 . . 
. f . 2 2 2 2 2 2 2 . . 2 2 . . 
. f . 2 a a a a a a 2 2 2 2 . . 
. f . . . 2 . . . . . . . . . . 
. . . . . f . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . 2 2 . . . . . . 
. . . . . . 2 2 . . . . 2 2 . . 
. . . . 2 2 . . 2 2 . 2 2 2 . . 
. . . . . 8 2 2 2 2 2 . . 2 . . 
. f . 2 2 2 2 2 2 . . . . . . . 
. f . 2 2 2 2 . . . . . . . . . 
. f . . . . 2 . . . . . . . . . 
. f . . . . f . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . 2 2 . . . . . 
. . . . . . . . . 2 2 2 . . . . 
. . . . . . . . . . 2 2 . . . . 
. . . . . 2 . . . 2 2 . . . . . 
. . . . 2 . . 2 2 a . . . . . . 
. . . 2 . . 2 2 a 2 . . . . . . 
. . 2 . . . 2 a 2 . . . . . . . 
. . . . 2 2 a 2 . . . . . . . . 
. . . 8 2 a 2 . . . . . . . . . 
. . 2 2 a 2 . . . . . . . . . . 
f . . 2 2 . 2 . . . . . . . . . 
. f . . . . . f . . . . . . . . 
. . f . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . 2 2 2 . . . . . . . 
. . . . . . . 2 2 . . . . . . . 
. . . . . . . . 2 . . . . . . . 
. . . . . . . . 2 . . . . . . . 
. . . . . 2 . 2 a . . . . . . . 
. . . . . 2 . 2 a . . . . . . . 
. . . . . 2 . 2 a . . . . . . . 
. . . . . 2 2 2 a . . . . . . . 
. . . . . 2 8 2 a 2 f . . . . . 
. . . . . 2 . 2 a . . . . . . . 
. . . . . . . 2 2 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . f f f f . . . . . . 
. . . . . . . . . . . . . . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . 2 2 . . . . . . . . . . . 
. . 2 2 2 2 . . . . . . . . . . 
. . 2 2 . 2 a 2 . . . . . . . . 
. . . . . . 2 a 2 . . . . . . . 
. . . . . . 2 2 a 2 . . . f . . 
. . . . . . . 2 2 a 2 . 2 . . . 
. . . . . 2 . . . 2 a 2 . . . . 
. . . . . . 2 . . 2 2 a 2 . . . 
. . . . . . . 2 . . 8 2 2 . . . 
. . . . . . . . 2 . . 2 . . f . 
. . . . . . . . . . . . . f . . 
. . . . . . . . . . . . f . . . 
`, img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . 2 2 . . . . . . . . . . . . 
. . 2 2 2 . a a . . f . . . . . 
. . 2 . . 2 2 2 a a 2 . . . . . 
. . . . . . . . 2 2 a a 2 . f . 
. . . . . . 2 2 . 2 2 2 2 . f . 
. . . . . . . . 2 2 8 . . . f . 
. . . . . . . . . . 2 2 . . f . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`]
let fullRotation = 6.283
partialRotation = fullRotation / planeImages.length
scene.setBackgroundColor(9)
successfulDropImage = img`
1 1 1 1 1 1 1 1 1 1 6 6 1 1 1 1 
1 1 1 1 1 1 1 1 1 6 6 1 6 1 1 1 
1 1 1 1 1 1 1 1 6 6 1 1 1 1 1 1 
1 1 6 6 1 1 1 6 6 1 1 1 1 1 1 1 
1 1 1 6 6 1 6 6 1 1 1 1 1 1 1 1 
1 1 1 1 6 6 6 1 1 1 1 1 1 1 1 1 
1 1 1 1 1 6 1 1 1 1 1 1 1 1 1 1 
1 6 6 6 6 6 6 6 6 6 6 6 6 6 6 1 
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`
tilemap.loadMap(tilemap.createMap(tiles.createTilemap(
            hex`2000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000300040400000000000000000000000000010101010101010101010101010101010102020101010101010101010101010101010101`,
            img`
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,myTiles.tile1,myTiles.tile5,myTiles.tile8,myTiles.tile9],
            TileScale.Sixteen
        )))
tilemap.createSpritesOnTiles(myTiles.tile8, SpriteKind.Building)
tilemap.replaceAllTiles(myTiles.tile8, myTiles.tile0)
tilemap.createSpritesOnTiles(myTiles.tile9, SpriteKind.Plant)
tilemap.replaceAllTiles(myTiles.tile9, myTiles.tile0)
startPlayer()
